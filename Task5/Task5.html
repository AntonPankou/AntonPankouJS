<!DOCTYPE HTML>
	<html>
		<head>

		<Title>Calendar</Title>
		<meta content="text/html; charset=utf-8">
		<link rel="stylesheet" href="style.css">
		</head>
		<body>			
			<script type="text/javascript">
			'use strict'
			function DatePicker(year, month, date){
			this.year = year;
			this.month = month;
			this.date = date;			
			let now ;
			let monthFisrtDay;
            		let daysInMonth;
            		
			now = new Date(year, month, date);
			monthFisrtDay = new Date(year, month);
			daysInMonth = (new Date (year, month + 1, -1)).getDate()+1;			
            		
			// creation of global container
			this.globalContainer = document.createElement('div');
			document.body.appendChild(this.globalContainer);
            		this.globalContainer.className = 'ap-globalContainer';
            
			// constucting header section with current date
			this.head = document.createElement('div');
			this.globalContainer.appendChild(this.head);
            		this.head.className = 'ap-head';
			const MONTHS = ['January','February','March','April', 'May','June','July','August','September','October','November','December'];	
            
            		for (let i = 0; i < MONTHS.length; i++) {
			if (now.getMonth() == i) {			
			let currentDatetext = MONTHS[i] + ' ' +now.getFullYear();
			let headText = document.createTextNode(currentDatetext);
			this.head.appendChild(headText);
			}
      }
		  	// setting of buttons
		        this.buttonLeft = document.createElement('button');
		        this.head.insertBefore(this.buttonLeft, this.head.firstChild);
		        this.buttonLeft.className = 'ap-button-left';
		        let buttonLeftChar = document.createTextNode('<');
		        this.buttonLeft.appendChild(buttonLeftChar);
		            
		        this.buttonRight = document.createElement('button');
		        this.head.appendChild(this.buttonRight);
		        this.buttonRight.className = 'ap-button-right';            
		        let buttonRightChar = document.createTextNode('>');
		        this.buttonRight.appendChild(buttonRightChar);
		            
			           
			
			// constucting week days section
			this.daysSection = document.createElement('div');
			this.daysSection.className = 'ap-daysSection';
			this.globalContainer.appendChild(this.daysSection);			
			const WEEK = ['Su', 'Mo', 'Tu', 'We', 'Th', 'Fr', 'Sa'];
			
			for (let i = 0; i < WEEK.length; i++ ){
			let weekDay = document.createElement('div');
			this.daysSection.appendChild(weekDay);
			let dayName = document.createTextNode(WEEK[i]);
			weekDay.appendChild(dayName);
			weekDay.className = 'ap-dayNameCell'
			}
			
			//constructing calendar days grid
				
			this.daysGrid = document.createElement('div');
			this.daysGrid.className = 'ap-daysGrid';
			this.globalContainer.appendChild(this.daysGrid);
						
			// empty cells on calendar
			for (let i = 0; i < monthFisrtDay.getDay(); i++){
			let emptyCell = document.createElement('div');
			this.daysGrid.appendChild(emptyCell);
			emptyCell.style.width = '30px';
			emptyCell.style.margin = '2px';
			}
			// creating of days grid
			for (let j = 1; j <= daysInMonth; j++) {
			
			let dayDiv = document.createElement('div');
			this.daysGrid.appendChild(dayDiv);
			if (j == now.getDate()) {
			dayDiv.style.background = 'yellow';
			}
			if ( (j + monthFisrtDay.getDay()) % 7 == 0 ){
			dayDiv.style.color = 'red';
			}
			
			let number = document.createTextNode(j);
			dayDiv.appendChild(number);
			dayDiv.className = 'ap-dayCell';
			} 			           		
			}
			
			let datePicker = new DatePicker(2018, 3, 25);     
      
		        //document.querySelector('.ap-button-left').onclick = addEventListener('click', prevMonth);

			//document.querySelector('.ap-button-left').onclick = function () {
			
		        //datePicker = new DatePicker(datePicker.year, datePicker.month - 1, datePicker.date);
			//remove();
		      	//};		        	

		      //document.querySelector('.ap-button-right').onclick = function () {
			
		        //datePicker = new DatePicker(datePicker.year, datePicker.month + 1, datePicker.date);
			//remove();
		      	//};
			      
		      function remove() {
			if(document.body.children[1]) {
		      	document.body.removeChild(document.body.children[1]);
			}
		      };

			
			document.querySelector('.ap-button-left').addEventListener("click", prevMonth);
			document.querySelector('.ap-button-right').addEventListener("click", nextMonth);
			
			function prevMonth () {
			datePicker = new DatePicker(datePicker.year, datePicker.month - 1, datePicker.date);
			remove();
			}

			function nextMonth () {
			datePicker = new DatePicker(datePicker.year, datePicker.month + 1, datePicker.date);
			remove();
			}

      
			</script>
		</body>		
	</html>
	
	